(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{439:function(s,e,t){"use strict";t.r(e);var a=t(44),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"교차-출처-리소스-공유-cors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#교차-출처-리소스-공유-cors"}},[s._v("#")]),s._v(" 교차 출처 리소스 공유 (CORS)")]),s._v(" "),t("p",[t("code",[s._v("교차 출처 리소스 공유(Cross-Origin Resource Sharing, CORS)")]),s._v(" 는 추가 HTTP 헤더를 사용하여, 한 출처에서 실행중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할 수 있는 권한을 부여하도록 브라우저에 알려주는 체제이다. 웹 애플리케이션은 리소스가 자신의 출처(도메인, 프로토콜, 포트)와 다를 때 교차 출처 HTTP 요청을 실행한다.")]),s._v(" "),t("p",[s._v("보안 상의 이유로, 브라우저는 스크립트에서 시작한 교차 출처 HTTP 요청을 제한한다.")]),s._v(" "),t("p",[s._v("CORS 체제는 브라우저와 서버 간의 안전한 교차 출처 요청 및 데이터 전송을 지원한다. 최신 브라우저는 "),t("code",[s._v("XMLHttpRequest")]),s._v(" 또는 "),t("code",[s._v("Fetch")]),s._v(" 와 같은 API에서 CORS를 사용하여 교차 출처 HTTP 요청의 위험을 완화한다.")]),s._v(" "),t("p",[t("code",[s._v("교차 출처 공유 표준")]),s._v(" 은 다음과 같은 경우에 사이트간 HTTP 요청을 허용한다.")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("XMLHttpRequest")]),s._v(" 와 "),t("code",[s._v("Fetch API")]),s._v(" 호출")]),s._v(" "),t("li",[s._v("웹 폰트(CSS 내 "),t("code",[s._v("@font-face")]),s._v(" 에서 교차 도메인 폰트 사용 시)")]),s._v(" "),t("li",[s._v("WebGL 텍스쳐")]),s._v(" "),t("li",[t("code",[s._v("drawImage()")]),s._v(" 를 사용해 캔버스에 그린 이미지/비디오 프레임")]),s._v(" "),t("li",[s._v("이미지로부터 추출하는 CSS Shapes")])]),s._v(" "),t("p",[t("code",[s._v("교차 출처 공유 표준")]),s._v(" 은 웹 브라우저에서 해당 정보를 읽는 것이 허용된 출처를 서버에서 설명할 수 있는 새로운 "),t("code",[s._v("HTTP 헤더")]),s._v(" 를 추가함으로써 동작한다. 추가적으로, 서버 데이터에 "),t("code",[s._v("Side Effect")]),s._v(" 를 일으킬 수 있는 HTTP 요청 메서드 ("),t("code",[s._v("GET")]),s._v(" 을 제외한 "),t("code",[s._v("HTTP 메서드")]),s._v(")에 대해, CORS 명세는 브라우저가 요청을 "),t("code",[s._v("OPTIONS")]),s._v(" 메서드로 "),t("code",[s._v("Preflight (사전 전달)")]),s._v(" 하여 지원하는 메서드를 요청하고, 서버의 "),t("code",[s._v("허가")]),s._v(" 가 떨어지면 실제 요청을 보내도록 요구하고 있다. 또한 서버는 클라이언트에게 요청에 "),t("code",[s._v("인증정보 (쿠기, HTTP 인증)")]),s._v(" 를 함께 보내야 한다고 알려줄 수도 있다.")]),s._v(" "),t("p",[s._v("CORS 실패는 오류의 원인이지만, 보안상의 이유로 JavaScript에서는 오류의 상세 정보에 접근할 수 없으며, 알 수 있는 것은 오류가 발생했다는 사실 뿐이다. 정확히 어떤 것이 실패했는지 알아내려면 브라우저의 콘솔을 봐야 한다.")]),s._v(" "),t("h2",{attrs:{id:"접근-제어-시나리오"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#접근-제어-시나리오"}},[s._v("#")]),s._v(" 접근 제어 시나리오")]),s._v(" "),t("h3",{attrs:{id:"단순-요청-simple-request"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#단순-요청-simple-request"}},[s._v("#")]),s._v(" 단순 요청 (Simple Request)")]),s._v(" "),t("p",[s._v("일부 요청은 "),t("code",[s._v("CORS Preflight")]),s._v(" 를 트리거하지 않는다. "),t("code",[s._v("Simple Request")]),s._v(" 는 다음 조건을 모두 충족하는 요청이다.")]),s._v(" "),t("ul",[t("li",[s._v("다음 중 하나의 메서드\n"),t("ul",[t("li",[t("code",[s._v("GET")])]),s._v(" "),t("li",[t("code",[s._v("HEAD")])]),s._v(" "),t("li",[t("code",[s._v("POST")])])])]),s._v(" "),t("li",[s._v('유저 에이전트가 자동으로 설정 한 헤더 (ex) Connection, User-Agent (en-US), Fetch 명세에서 "forbidden header name" 으로 정의한 헤더)외에, 수동으로 설정할 수 있는 헤더는 오직 Fetch 명세에서 "CORS-safelisted request-header"로 정의한 헤더 뿐이다.\n'),t("ul",[t("li",[t("code",[s._v("Accept")])]),s._v(" "),t("li",[t("code",[s._v("Accept-Language")])]),s._v(" "),t("li",[t("code",[s._v("Content-Language")])]),s._v(" "),t("li",[t("code",[s._v("Content-Type")]),s._v(" ("),t("code",[s._v("Content-Type")]),s._v(" 헤더는 다음의 값들만 허용된다.)\n"),t("ul",[t("li",[t("code",[s._v("application/x-www-form-urlencoded")])]),s._v(" "),t("li",[t("code",[s._v("multipart/form-data")])]),s._v(" "),t("li",[t("code",[s._v("text-plain")])])])])])]),s._v(" "),t("li",[s._v("요청에 사용된 "),t("code",[s._v("XMLHttpRequestUpload")]),s._v(" 객체에는 이벤트 리스너가 등록되어 있지 않다. 이들은 "),t("code",[s._v("XMLHttpRequest.upload")]),s._v(" 프로퍼티를 사용하여 접근한다.")]),s._v(" "),t("li",[s._v("요청에 "),t("code",[s._v("ReadableStream")]),s._v(" 객체가 사용되지 않는다.")])]),s._v(" "),t("h4",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[s._v("#")]),s._v(" Example")]),s._v(" "),t("p",[t("code",[s._v("https://foo.example")]),s._v(" 의 웹 컨텐츠가 "),t("code",[s._v("https://bar.other")]),s._v(" 도메인의 컨텐츠를 호출하길 원하는 경우, 아래와 같은 코드가 될 수 있다.")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" xhr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XMLHttpRequest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://bar.other/resources/public-data/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GET'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("onreadystatechange "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" someHandler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("클라이언트와 서버간에 간단한 통신을 하고, CORS 헤더를 사용하여 권한을 처리한다.")]),s._v(" "),t("p",[s._v("이 경우 브라우저가 서버로 전송하는 내용을 살펴보고, 서버의 응답을 확인한다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GET /resources/public-data/ HTTP/1.1\nHost: bar.other\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip,deflate\nConnection: keep-alive\nOrigin: https://foo.example\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("요청 헤더의 "),t("code",[s._v("Origin")]),s._v(" 을 보면, "),t("code",[s._v("https://foo.example")]),s._v(" 로부터 요청이 왔다는 것을 알 수 있다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("HTTP/1.1 200 OK\nDate: Mon, 01 Dec 2008 00:23:53 GMT\nServer: Apache/2\nAccess-Control-Allow-Origin: *\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: application/xml\n\n[...XML Data...]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("서버는 이에 대한 응답으로 "),t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" 헤더를 다시 전송한다. 가장 간단한 접근 제어 프로토콜은 "),t("code",[s._v("Origin")]),s._v(" 헤더와 "),t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" 을 사용하는 것이다. 이 경우 서버는 "),t("code",[s._v("Access-Control-Allow-Origin: *")]),s._v(" 으로 응답해야 하며, 이는 "),t("code",[s._v("모든")]),s._v(" 도메인에서 접근할 수 있음을 의미한다.")]),s._v(" "),t("h3",{attrs:{id:"프리플라이트-요청"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#프리플라이트-요청"}},[s._v("#")]),s._v(" 프리플라이트 요청")]),s._v(" "),t("p",[t("code",[s._v("Preflighted request")]),s._v(" 는 먼저 "),t("code",[s._v("OPTIONS")]),s._v(" 메서드를 통해 다른 도메인의 리소스로 HTTP 요청을 보내 실제 요청이 전송하기에 안전한지 확인한다. "),t("code",[s._v("Cross-site")]),s._v(" 요청은 유저 데이터에 영향을 줄 수 있기 때문에 이와 같이 미리 전송(Preflighted)한다.")]),s._v(" "),t("h4",{attrs:{id:"example-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-2"}},[s._v("#")]),s._v(" Example")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" xhr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XMLHttpRequest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'POST'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://bar.other/resources/post-here/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setRequestHeader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Ping-Other'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pingpong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setRequestHeader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/xml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("onreadystatechange "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" handler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nxhr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<person><name>Arun</name></person>'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("Content-Type이 "),t("code",[s._v("application/xml")]),s._v(" 이고, 사용자 정의 헤더 "),t("code",[s._v("Ping-Other")]),s._v(" 가 설정되었기 때문에 이 요청은 Preflighted 처리된다.")]),s._v(" "),t("p",[s._v("첫 번째 통신은 preflight request/response 이다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("OPTIONS /resources/post-here/ HTTP/1.1\nHost: bar.other\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip,deflate\nConnection: keep-alive\nOrigin: http://foo.example\nAccess-Control-Request-Method: POST\nAccess-Control-Request-Headers: X-PINGOTHER, Content-Type\n\n\nHTTP/1.1 204 No Content\nDate: Mon, 01 Dec 2008 01:15:39 GMT\nServer: Apache/2\nAccess-Control-Allow-Origin: https://foo.example\nAccess-Control-Allow-Methods: POST, GET, OPTIONS\nAccess-Control-Allow-Headers: X-PINGOTHER, Content-Type\nAccess-Control-Max-Age: 86400\nVary: Accept-Encoding, Origin\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("p",[s._v("1 - 10 행은 "),t("code",[s._v("OPTIONS")]),s._v(" 메서드를 사용한 "),t("code",[s._v("preflight request")]),s._v(" 를 나타낸다. "),t("code",[s._v("OPTIONS")]),s._v(" 요청과 함께 두 개의 다른 요청 헤더가 전송된다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Request-Method: POST\nAccess-Control-Request-Headers: X-PINGOTHER, Content-Type\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("OPTIONS")]),s._v(" "),t("p",[t("code",[s._v("OPTIONS")]),s._v(" 는 서버에서 추가 정보를 판별하는데 사용하는 HTTP/1.1 메서드이다.\nsafe 메서드이기 때문에, 리소스를 변경하는데 사용할 수 없다.")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Access-Control-Request-Method")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("preflight request")]),s._v(" 의 일부로, 실제 요청을 전송할 때 "),t("code",[s._v("POST")]),s._v(" 메서드로 전송된다는 것을 알려준다.")])])]),s._v(" "),t("li",[t("strong",[s._v("Access-Control-Request-Headers")]),s._v(" "),t("ul",[t("li",[s._v("실제 요청을 전송할 때 "),t("code",[s._v("X-PINGOTHER")]),s._v(" 와 "),t("code",[s._v("Content-Type")]),s._v(" 사용자 정의 헤더와 함께 전송된다는 것을 서버에 알려준다.")])])])]),s._v(" "),t("p",[s._v("서버는 이러한 상황에서 요청을 수락할지 결정할 수 있다.")]),s._v(" "),t("p",[s._v("13 - 22 행은 서버가 요청 메서드와 (POST) 요청 헤더를 (X-PINGOTHER) 받을 수 있음을 나타내는 응답이다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Allow-Origin: https://foo.example\nAccess-Control-Allow-Methods: POST, GET, OPTIONS\nAccess-Control-Allow-Headers: X-PINGOTHER, Content-Type\nAccess-Control-Max-Age: 86400\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[t("p",[t("strong",[s._v("Access-Control-Allow-Methods")])]),s._v(" "),t("ul",[t("li",[s._v("서버는 "),t("code",[s._v("Access-Control-Allow-Methods")]),s._v(" 로 응답하고 "),t("code",[s._v("POST")]),s._v(" 와 "),t("code",[s._v("GET")]),s._v(" 이 리소스를 쿼리하는데 유용한 메서드라고 가르쳐준다.")])]),s._v(" "),t("blockquote",[t("p",[s._v("이 헤더는 "),t("code",[s._v("Allow")]),s._v(" 응답 헤더와 유사하지만, 접근 제어 컨텍스트 내에서 엄격하게 사용된다.")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("Allow")]),s._v(" "),t("p",[t("code",[s._v("Allow")]),s._v(" 헤더는 리소스가 지원하는 메소드 집합을 나열한다.")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Allow",target:"_blank",rel:"noopener noreferrer"}},[s._v("Allow - MDN"),t("OutboundLink")],1)])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Access-Control-Allow-Headers")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Access-Control-Allow-Headers")]),s._v(" 의 값을 "),t("code",[s._v("X-PINGOTHER, Content-Type")]),s._v(" 으로 전송하여 실제 요청에 사용할 수 있음을 확인한다.")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Access-Control-Max-Age")])]),s._v(" "),t("ul",[t("li",[s._v("다른 "),t("code",[s._v("preflight request")]),s._v(" 를 보내지 않고, "),t("code",[s._v("preflight request")]),s._v(" 에 대한 응답을 캐시할 수 있는 시간(초)을 제공한다.")]),s._v(" "),t("li",[s._v("각 브라우저의 최대 캐싱 시간은 "),t("code",[s._v("Access-Control-Max-Age")]),s._v(" 가 클수록 우선순위가 높다.")])])])]),s._v(" "),t("p",[s._v("preflight request가 완료되면 실제 요청을 전송한다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("POST /resources/post-here/ HTTP/1.1\nHost: bar.other\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip,deflate\nConnection: keep-alive\nX-PINGOTHER: pingpong\nContent-Type: text/xml; charset=UTF-8\nReferer: https://foo.example/examples/preflightInvocation.html\nContent-Length: 55\nOrigin: https://foo.example\nPragma: no-cache\nCache-Control: no-cache\n\n<person><name>Arun</name></person>\n\n\nHTTP/1.1 200 OK\nDate: Mon, 01 Dec 2008 01:15:40 GMT\nServer: Apache/2\nAccess-Control-Allow-Origin: https://foo.example\nVary: Accept-Encoding, Origin\nContent-Encoding: gzip\nContent-Length: 235\nKeep-Alive: timeout=2, max=99\nConnection: Keep-Alive\nContent-Type: text/plain\n\n[Some GZIP'd payload]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),s._v(" "),t("h3",{attrs:{id:"인증정보를-포함한-요청"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#인증정보를-포함한-요청"}},[s._v("#")]),s._v(" 인증정보를 포함한 요청")]),s._v(" "),t("p",[t("code",[s._v("credentialed requests")]),s._v(" 는 "),t("code",[s._v("XMLHttpRequest")]),s._v(" 혹은 "),t("code",[s._v("Fetch")]),s._v(" 를 사용할 때 CORS에 의해 드러나는 가장 흥미로운 기능이다. "),t("code",[s._v("credentialed requests")]),s._v(" 는 HTTP cookies 와 HTTP Authentication 정보를 인식한다. 기본적으로 cross-site "),t("code",[s._v("XMLHttpRequest")]),s._v(" 나 "),t("code",[s._v("Fetch")]),s._v(" 호출에서 브라우저는 자격 증명을 보내지 않는다. "),t("code",[s._v("XMLHttpRequest")]),s._v(" 객체나 "),t("code",[s._v("Request")]),s._v(" 생성자가 호출될 때 특정 플래그를 설정해야 한다.")]),s._v(" "),t("h4",{attrs:{id:"example-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-3"}},[s._v("#")]),s._v(" Example")]),s._v(" "),t("p",[t("code",[s._v("http://foo.example")]),s._v(" 에서 불러온 컨텐츠는 쿠키를 설정하는 "),t("code",[s._v("http://bar.other")]),s._v(" 리소스에 simple GET request를 작성한다.")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" invocation "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XMLHttpRequest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://bar.other/resources/credentialed-content/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("callOtherDomain")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("invocation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    invocation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GET'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    invocation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("withCredentials "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    invocation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("onreadystatechange "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" handler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    invocation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("7행은 쿠키와 함께 호출하기위한 "),t("code",[s._v("XMLHttpRequest")]),s._v(" 의 플래그("),t("code",[s._v("withCredentials")]),s._v(")를 보여준다. 기본적으로 호출은 쿠키 없이 이루어지며, 이것은 simple GET request 이므로 preflighted 되지 않는다. 그러나 브라우저는"),t("code",[s._v("Access-Control-Allow-Credentials: true")]),s._v(" 헤더가 없는 응답을 거부한다. 따라서 호출된 웹 컨텐츠에 응답을 제공하지 않는다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GET /resources/credentialed-content/ HTTP/1.1\nHost: bar.other\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip,deflate\nConnection: keep-alive\nReferer: http://foo.example/examples/credential.html\nOrigin: http://foo.example\nCookie: pageAccess=2\n\n\nHTTP/1.1 200 OK\nDate: Mon, 01 Dec 2008 01:34:52 GMT\nServer: Apache/2\nAccess-Control-Allow-Origin: https://foo.example\nAccess-Control-Allow-Credentials: true\nCache-Control: no-cache\nPragma: no-cache\nSet-Cookie: pageAccess=3; expires=Wed, 31-Dec-2008 01:34:53 GMT\nVary: Accept-Encoding, Origin\nContent-Encoding: gzip\nContent-Length: 106\nKeep-Alive: timeout=2, max=100\nConnection: Keep-Alive\nContent-Type: text/plain\n\n\n[text/plain payload]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("p",[s._v("10행에는 "),t("code",[s._v("http://bar.other")]),s._v(" 의 컨텐츠를 대상으로 하는 쿠키가 포함되어 있다. 그러나 17행의 "),t("code",[s._v("Access-Control-Allow-Credentials: true")]),s._v(" 로 응답하지 않으면, 응답을 무시되고 웹 컨텐츠는 제공되지 않는다.")]),s._v(" "),t("h4",{attrs:{id:"실행-전-요청-및-자격-증명"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#실행-전-요청-및-자격-증명"}},[s._v("#")]),s._v(" 실행 전 요청 및 자격 증명")]),s._v(" "),t("p",[s._v("CORS 실행 전 요청에는 자격 증명이 포함되지 않아야 한다. 실행 전 요청에 대한 응답은 "),t("code",[s._v("Access-Control-Allow-Credentials: true")]),s._v(" 를 지정하여 자격 증명으로 실제 요청을 수행할 수 있음을 나타내야 한다.")]),s._v(" "),t("h4",{attrs:{id:"자격-증명-요청-및-와일드카드-credentialed-requests-and-wildcards"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#자격-증명-요청-및-와일드카드-credentialed-requests-and-wildcards"}},[s._v("#")]),s._v(" 자격 증명 요청 및 와일드카드(Credentialed requests and wildcards)")]),s._v(" "),t("p",[s._v("자격 증명 요청에 응답할 때 서버는 반드시 "),t("code",[s._v("*")]),s._v(" 와일드카드를 지정하는 대신 "),t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" 헤더 값에 출처를 지정해야 한다.")]),s._v(" "),t("p",[s._v("위 예제에서 요청 헤더에 "),t("code",[s._v("Cookie")]),s._v(" 헤더가 포함되어 있기 때문에 "),t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" 헤더의 값이 "),t("code",[s._v("*")]),s._v(" 인 경우 요청이 실패한다. 위 요청은 "),t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" 헤더가 "),t("code",[s._v("https://foo.example")]),s._v(" 이기 때문에 자격 증명 인식 컨텐츠는 웹 호출 컨텐츠로 리턴된다.")]),s._v(" "),t("p",[s._v("위 예제의 "),t("code",[s._v("Set-Cookie")]),s._v(" 응답 헤더는 추가 쿠키를 생성한다.")]),s._v(" "),t("h5",{attrs:{id:"third-party-cookies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#third-party-cookies"}},[s._v("#")]),s._v(" Third-party cookies")]),s._v(" "),t("p",[s._v("CORS 응답에 설정된 쿠키에는 일반적인 "),t("code",[s._v("third-party cookie")]),s._v(" 정책이 적용된다.")]),s._v(" "),t("p",[s._v("위의 예제는 "),t("code",[s._v("foo.example")]),s._v(" 에서 페이지를 불러오지만 20행의 쿠키는 "),t("code",[s._v("bar.other")]),s._v(" 가 전송한다. 따라서 사용자의 브라우저 설정이 모든 "),t("code",[s._v("third-party cookie")]),s._v(" 를 거부하도록 되어 있다면, 이 쿠키는 저장되지 않는다.")]),s._v(" "),t("h2",{attrs:{id:"http-응답-헤더"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-응답-헤더"}},[s._v("#")]),s._v(" HTTP 응답 헤더")]),s._v(" "),t("p",[s._v("서버가 접근 제어 요청을 위해 보내는 HTTP 응답 헤더")]),s._v(" "),t("h3",{attrs:{id:"access-control-allow-origin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-allow-origin"}},[s._v("#")]),s._v(" Access-Control-Allow-Origin")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Allow-Origin: <origin> | *\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("단일 출처를 지정하여 브라우저가 해당 출처가 리소스에 접근하도록 허용한다.")]),s._v(" "),t("p",[s._v("자격 증명이 없는 요청의 경우 "),t("code",[s._v("*")]),s._v(" 와일드카드는 브라우저의 origin에 상관없이 모든 리소스에 접근하도록 허용한다.")]),s._v(" "),t("p",[s._v("서버가 "),t("code",[s._v("*")]),s._v(" 와일드카드 대신에 하나의 origin을 지정하는 경우, 서버는 "),t("code",[s._v("Vary")]),s._v(" 응답 헤더에 "),t("code",[s._v("Origin")]),s._v(" 을 포함해야 한다.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("Vary")]),s._v(" "),t("p",[t("code",[s._v("Vary")]),s._v(" 헤더는 캐시 된 응답을 향후 요청들에서 오리진 서버로 새로운 요청 헤더를 요청하는 대신 사용할 수 있는지 여부를 결정한다.")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Allow",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vary - MDN"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"access-control-expose-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-expose-headers"}},[s._v("#")]),s._v(" Access-Control-Expose-Headers")]),s._v(" "),t("p",[s._v("브라우저가 접근할 수 있는 헤더를 서버의 화이트리스트에 추가할 수 있다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Expose-Headers: <header-name>[, <header-name>]*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"access-control-max-age"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-max-age"}},[s._v("#")]),s._v(" Access-Control-Max-Age")]),s._v(" "),t("p",[s._v("preflight request 요청 결과를 캐시할 수 있는 시간을 나타낸다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Max-Age: <delta-seconds>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"access-control-allow-credentials"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-allow-credentials"}},[s._v("#")]),s._v(" Access-Control-Allow-Credentials")]),s._v(" "),t("p",[t("code",[s._v("credentials")]),s._v(" 플래그가 "),t("code",[s._v("ture")]),s._v(" 일 때, 요청에 대한 응답을 표시할 수 있는지를 나타낸다.")]),s._v(" "),t("p",[s._v("preflight request에 대한 응답의 일부로 사용하는 경우, credentials을 사용하여 실제 요청을 수행할 수 있는지를 나타낸다.")]),s._v(" "),t("p",[s._v("simple GET requests는 preflighted되지 않으므로 credentials이 있는 리소스를 요청하면, 이 헤더가 리소스와 함께 반환되지 않습니다. 이 헤더가 없으면 브라우저에서 응답을 무시하고 웹 컨텐츠로 반환되지 않는다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Allow-Credentials: true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"access-control-allow-methods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-allow-methods"}},[s._v("#")]),s._v(" Access-Control-Allow-Methods")]),s._v(" "),t("p",[s._v("리소스에 접근할 때 허용되는 메서드를 지정한다. 이 헤더는 preflight request에 대한 응답으로 사용된다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Allow-Methods: <method>[, <method>]*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"access-control-allow-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-allow-headers"}},[s._v("#")]),s._v(" Access-Control-Allow-Headers")]),s._v(" "),t("p",[t("code",[s._v("preflight request")]),s._v(" 에 대한 응답으로 사용된다. 실제 요청시 사용할 수 있는 HTTP 헤더를 나타낸다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Allow-Headers: <header-name>[, <header-name>]*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"http-요청-헤더"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-요청-헤더"}},[s._v("#")]),s._v(" HTTP 요청 헤더")]),s._v(" "),t("p",[s._v("cross-origin 공유 기능을 사용하기 위해 클라이언트가 HTTP 요청을 발행할 때 사용할 수 있는 헤더")]),s._v(" "),t("h3",{attrs:{id:"origin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#origin"}},[s._v("#")]),s._v(" Origin")]),s._v(" "),t("p",[s._v("cross-site 접근 요청 또는 preflight request의 출처를 나타낸다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Origin: <origin>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("origin은 요청이 시작된 서버를 나타내는 URI 이다. 경로 정보는 포함하지 않고, 오직 서버 이름만 포함한다.")]),s._v(" "),t("blockquote",[t("p",[s._v("origin 값은 "),t("code",[s._v("null")]),s._v(" 또는 "),t("code",[s._v("URI")]),s._v(" 가 올 수 있다.")])]),s._v(" "),t("h3",{attrs:{id:"access-control-request-method"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-request-method"}},[s._v("#")]),s._v(" Access-Control-Request-Method")]),s._v(" "),t("p",[s._v("실제 요청에서 어떤 HTTP 메서드를 사용할지 서버에게 알려주기 위해, preflight request 할 때에 사용된다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Request-Method: <method>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"access-control-request-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#access-control-request-headers"}},[s._v("#")]),s._v(" Access-Control-Request-Headers")]),s._v(" "),t("p",[s._v("실제 요청에서 어떤 HTTP 헤더를 사용할지 서버에게 알려주기 위해, preflight request 할 때에 사용된다.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Access-Control-Request-Headers: <field-name>[, <field-name>]*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" References")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/ko/docs/Web/HTTP/CORS#origin",target:"_blank",rel:"noopener noreferrer"}},[s._v("교차 출처 리소스 공유 (CORS) - MDN"),t("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);